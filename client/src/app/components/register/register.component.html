<div class="container-fluid">
    <div class="panel panel-primary">
        <br/>
        <div class="existingAccount">
            <!-- account already exist -->
            <p>Already have an account? <a routerLink="/home" mat-raised-button color="primary" routerLinkActive="active">Login Now</a>
            </p>
        </div>
        <h2 class="panel-title">Register</h2>
        <p class="reg-message">Please fill in the details bellow in order to register</p>
        <form>
            <div class="row">
                <div class="col-sm-6">

                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>First Name</mat-label>
                            <input type="text" matNativeControl [(ngModel)]="newUser.firstName" name="firstName"
                                required minlength="2" autofocus #firstName="ngModel"
                                [disabled]="buttonDisabled.firstName">
                            <mat-error *ngIf="firstName.errors?.required && firstName.touched">Missing First Name
                            </mat-error>
                            <mat-error *ngIf="!firstName.valid">Minimum 2 letters</mat-error>
                        </mat-form-field>
                        <mat-error class="errorsDisplay" *ngIf="firstName.valid && errors.firstName">
                            {{errors.firstName}}</mat-error>
                    </div>

                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>Last Name</mat-label>
                            <input type="text" matNativeControl [(ngModel)]="newUser.lastName" name="lastName" required
                                minlength="2" #lastName="ngModel" [disabled]="buttonDisabled.lastName">
                            <mat-error *ngIf="lastName.errors?.required && lastName.touched">Missing Last Name
                            </mat-error>
                            <mat-error *ngIf="!lastName.valid">Minimum 2 letters</mat-error>
                        </mat-form-field>
                        <mat-error class="errorsDisplay" *ngIf="lastName.valid && errors.lastName">{{errors.lastName}}
                        </mat-error>
                    </div>

                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>Email</mat-label>
                            <input type="text" matNativeControl [(ngModel)]="newUser.email" name="email" required
                             #email="ngModel" [disabled]="buttonDisabled.email">
                            <mat-error *ngIf="email.errors?.required && email.touched">Missing Email</mat-error>
                        </mat-form-field>
                        <mat-error class="errorsDisplay" *ngIf="email.valid && errors.email">{{errors.email}}</mat-error>
                    </div>

                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>Personal ID</mat-label>
                            <input type="number" matNativeControl [(ngModel)]="newUser.personalId" name="personalId"
                                required minlength="9" maxlength="9" autofocus #personalId="ngModel"
                                [disabled]="buttonDisabled.personalId">
                            <mat-error *ngIf="personalId.errors?.required && personalId.touched">Missing Personal Id
                            </mat-error>
                            <mat-error *ngIf="!personalId.valid">Must be 9 numbers long</mat-error>
                        </mat-form-field>
                        <mat-error class="errorsDisplay" *ngIf="personalId.valid && errors.personalId">
                            {{errors.personalId}}</mat-error>
                    </div>

                    <button mat-raised-button color="primary" *ngIf="buttonDisabled.register" (click)="validateRegisterFormFirst()"
                        [disabled]="(!firstName.valid || !lastName.valid || !email.valid || !personalId.valid)">
                        Continue
                    </button>

                </div>
                <div class="col-sm-6">

                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>Cities</mat-label>
                            <select matNativeControl [(ngModel)]="newUser.city" name="city" required
                                [disabled]="buttonDisabled.city">
                                <option value="Tel Aviv">Tel-Aviv</option>
                                <option value="Haifa">Haifa</option>
                                <option value="Raanana">Ra'anana</option>
                                <option value="Bat Yam">Bat Yam</option>
                                <option value="Holon">Holon</option>
                                <option value="Hertzelia">Hertzelia</option>
                                <option value="Ashkelon">Ashkelon</option>
                                <option value="Ashdod">Ashdod</option>
                                <option value="Beer Sheva">Beer Sehva</option>
                            </select>
                        </mat-form-field>
                        <div class="errorsDisplay" *ngIf="errors.city">{{errors.city}}</div>
                    </div>


                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>Address</mat-label>
                            <input type="text" matNativeControl [(ngModel)]="newUser.address" name="address"
                                required minlength="5" #address="ngModel" [disabled]="buttonDisabled.address">
                            <mat-error *ngIf="address.errors?.required && address.touched">Missing Address</mat-error>
                            <mat-error *ngIf="!address.valid">Must be 5 characters long</mat-error>
                        </mat-form-field>
                        <mat-error class="errorsDisplay" *ngIf="address.valid && errors.address">{{errors.address}}
                        </mat-error>
                    </div>

                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>Password</mat-label>
                            <input type="password" matNativeControl [(ngModel)]="newUser.password" name="password"
                                required minlength="8" #password="ngModel"
                                [disabled]="buttonDisabled.password">
                            <mat-error *ngIf="password.errors?.required && address.touched">Missing Password</mat-error>
                            <mat-error *ngIf="!password.valid">Must be 8 characters long</mat-error>
                        </mat-form-field>
                        <mat-error class="errorsDisplay" *ngIf="password.valid && errors.password">{{errors.password}}
                        </mat-error>
                    </div>

                    <div class="inputDivs">
                        <mat-form-field>
                            <mat-label>Confirm Password</mat-label>
                            <input type="password" matNativeControl [(ngModel)]="newUser.confirmPassword" name="confirmPassowrd"
                                required minlength="8" #confirmPassword="ngModel"
                                [disabled]="buttonDisabled.confirmPassword">
                            <mat-error *ngIf="confirmPassword.errors?.required && address.touched">Missing Password
                                Confirmation</mat-error>
                            <mat-error *ngIf="!confirmPassword.valid">Must be 8 characters long</mat-error>
                        </mat-form-field>
                        <mat-error class="errorsDisplay" *ngIf="confirmPassword.valid && errors.confirmPassword">
                            {{errors.confirmPassword}}</mat-error>
                    </div>


                    <button mat-raised-button color="primary" *ngIf="!buttonDisabled.register" (click)="validateRegisterForm()"
                        [disabled]="buttonDisabled.register">
                        Register
                    </button>
                    <div class="errorsDisplay" *ngIf="errors.register.length>0">{{errors.register}}</div>

                </div>
            </div>
        </form>
    </div>
</div>